<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>View Angle | False Productivity</title>
<meta name="keywords" content="math, geometry" />
<meta name="description" content="Codeforces - View Angle (257C) solution">
<meta name="author" content="colossal_pepe">
<link rel="canonical" href="https://colossal-pepe.github.io/false-productivity/posts/2021-5/view-angle/" />
<link crossorigin="anonymous" href="/false-productivity/assets/css/stylesheet.min.b50dea21cb69b925c783abc4870e38fef3e55317f404eef2740034ed7a1c0ac5.css" integrity="sha256-tQ3qIctpuSXHg6vEhw44/vPlUxf0BO7ydAA07XocCsU=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://colossal-pepe.github.io/false-productivity/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://colossal-pepe.github.io/false-productivity/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://colossal-pepe.github.io/false-productivity/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://colossal-pepe.github.io/false-productivity/apple-touch-icon.png">
<link rel="mask-icon" href="https://colossal-pepe.github.io/false-productivity/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.83.1" />

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.js" integrity="sha384-YNHdsYkH6gMx9y3mRkmcJ2mFUjTd0qNQQvY9VYZgQd7DcN7env35GzlmFaZ23JGp" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/contrib/auto-render.min.js" integrity="sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl" crossorigin="anonymous"></script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
          
          
          delimiters: [
              {left: '$$', right: '$$', display: true},
              {left: '$', right: '$', display: false},
              {left: '\\(', right: '\\)', display: false},
              {left: '\\[', right: '\\]', display: true}
          ],
          
          throwOnError : false
        });
    });
</script>
<meta property="og:title" content="View Angle" />
<meta property="og:description" content="Codeforces - View Angle (257C) solution" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://colossal-pepe.github.io/false-productivity/posts/2021-5/view-angle/" /><meta property="og:image" content="https://colossal-pepe.github.io/false-productivity/papermod-cover.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-05-24T00:00:00&#43;00:00" />
<meta property="article:modified_time" content="2021-05-24T00:00:00&#43;00:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://colossal-pepe.github.io/false-productivity/papermod-cover.png"/>

<meta name="twitter:title" content="View Angle"/>
<meta name="twitter:description" content="Codeforces - View Angle (257C) solution"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://colossal-pepe.github.io/false-productivity/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "View Angle",
      "item": "https://colossal-pepe.github.io/false-productivity/posts/2021-5/view-angle/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "View Angle",
  "name": "View Angle",
  "description": "Codeforces - View Angle (257C) solution",
  "keywords": [
    "math", "geometry"
  ],
  "articleBody": "Abridged Problem Statement Given an array $a$ containing $n$ points on the coordinate plane, find the minimum angle required to cover all $n$ points in your view if you’re standing in the origin.\nSolution Let’s take the second sample input in the actual problem statement as an example.\nThere are 3 points: $A = (2,0)$, $B = (0, 2)$, $C = (-2, -2)$. And the graph would look like this:\nFor each problem, we want to have our angle so that 2 or more points are on the border of our angle. For example, in here, those points would be point A and C. So how do we find the minimum such angle? Let’s find the angle which covers all the points for every pair of points (worry about the implementation later). For each par, the required angle is below.\n   Pair Angle     Pair (A, B) 270 - clockwise   Pair (B, C) 315 - clockwise   Pair (C, A) 135 - counter clockwise    Let’s say there’s another point $D=(2, 2)$. If that was the case, neither the clockwise angle nor the counter-clockwise angle for pair (A, B) would be valid since the clockwise angle would not cover point D and the counter-clockwise angle would not cover point C. Hence we have proved that we need to take the clockwise or counter-clockwise angle between every pair of adjacent points. Adjacent points are the closest 2 or less closest points to a point, one in the clockwise direction, another in the opposite direction. But how do we know which point is adjacent to some other point? We sort the points counter-clockwise. The function counterClockWiseAngle(Point P) returns the counter-clockwise of point P from positive side of x-axis. For example, for points A, B, and C, their counter-clockwise angles are 0, 90, 135 respectively. Now, find the minimum outside angle between every pair of points $a_i$ and $a _{i+1}$ where $1 \\leq i \\leq n-1$. Outside angle is basically the clockwise-angle from point A to point B. Look at the code to get the formula. But there is a catch. Notice that we haven’t calculated the outside angle between $a_n$ and $a_0$. This is because their outside angle does not contain any of the other points. You can see this to be true in the above example; for the pair $(a_n, a_0)$, compute their inside angle (counter-clockwise angle from point A to B) which does contain the other points. So we have processed all pairs one by one and should have a minimum by now.\nCode Note: This gets runtime error with the G++17 compiler, so I used MS C++ 2017 to get AC.\n#include #include #include #include #include using namespace std; struct Point { int x, y; Point(int a, int b) { x = a, y = b; } }; int n, xi, yi; double PI = 3.14159265358, ans = 360; vectorPoint plane; double deg(double d) { return d*(180/PI); } double counterClockWiseAngle(Point p) { double angle = deg(atan2(p.y, p.x)); if (angle = 0) return angle; else return 360 + angle; } double insideAngle(Point p1, Point p2) { return fabs(counterClockWiseAngle(p1) - counterClockWiseAngle(p2)); } double outsideAngle(Point p1, Point p2) { return 360 - insideAngle(p1, p2); } bool comparePoint(Point p1, Point p2) { return counterClockWiseAngle(p1)  counterClockWiseAngle(p2); } int main() { cin  n; for (int i = 0; i  n; i++) { cin  xi  yi; plane.push_back({xi, yi}); } sort(plane.begin(), plane.end(), comparePoint); if (plane.size() == 1) ans = 0; else { for (int i = 0; i  n-1; i++) { ans = min(ans, outsideAngle(plane[i], plane[i+1])); } ans = min(ans, insideAngle(plane[n-1], plane[0])); } cout  setprecision(11)  ans  endl; return 0; } ",
  "wordCount" : "608",
  "inLanguage": "en",
  "datePublished": "2021-05-24T00:00:00Z",
  "dateModified": "2021-05-24T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "colossal_pepe"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://colossal-pepe.github.io/false-productivity/posts/2021-5/view-angle/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "False Productivity",
    "logo": {
      "@type": "ImageObject",
      "url": "https://colossal-pepe.github.io/false-productivity/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>
<noscript>
    <style type="text/css">
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: #1d1e20;
                --entry: #2e2e33;
                --primary: rgba(255, 255, 255, 0.84);
                --secondary: rgba(255, 255, 255, 0.56);
                --tertiary: rgba(255, 255, 255, 0.16);
                --content: rgba(255, 255, 255, 0.74);
                --hljs-bg: #2e2e33;
                --code-bg: #37383e;
                --border: #333;
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://colossal-pepe.github.io/false-productivity/" accesskey="h" title="False Productivity (Alt + H)">False Productivity</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://colossal-pepe.github.io/false-productivity/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://colossal-pepe.github.io/false-productivity/categories/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
            <li>
                <a href="https://colossal-pepe.github.io/false-productivity/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://colossal-pepe.github.io/false-productivity/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      View Angle
    </h1>
    <div class="post-description">
      Codeforces - View Angle (257C) solution
    </div>
    <div class="post-meta">May 24, 2021&nbsp;·&nbsp;colossal_pepe
</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <div class="details">Table of Contents</div>
        </summary>
        <div class="inner"><ul>
                <li>
                    <a href="#abridged-problem-statement" aria-label="Abridged Problem Statement">Abridged Problem Statement</a></li>
                <li>
                    <a href="#solution" aria-label="Solution">Solution</a></li>
                <li>
                    <a href="#code" aria-label="Code">Code</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h2 id="abridged-problem-statement">Abridged Problem Statement<a hidden class="anchor" aria-hidden="true" href="#abridged-problem-statement">#</a></h2>
<p>Given an array $a$ containing $n$ points on the coordinate plane, find the minimum angle required to cover all $n$ points in your view if you&rsquo;re standing in the origin.</p>
<h2 id="solution">Solution<a hidden class="anchor" aria-hidden="true" href="#solution">#</a></h2>
<p>Let&rsquo;s take the second sample input in the actual problem statement as an example.</p>
<p>There are 3 points: $A = (2,0)$, $B = (0, 2)$, $C = (-2, -2)$. And the graph would look like this:</p>
<p><img loading="lazy" src="https://espresso.codeforces.com/286d3cc7d8f210be3208dac2e2e4210920257301.png" alt="img"  />
</p>
<p>For each problem, we want to have our angle so that 2 or more points are on the border of our angle. For example, in here, those points would be point A and C.  So how do we find the minimum such angle? Let&rsquo;s find the angle which covers all the points for every pair of points (worry about the implementation later). For each par, the required angle is below.</p>
<table>
<thead>
<tr>
<th style="text-align:center">Pair</th>
<th style="text-align:center">Angle</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Pair (A, B)</td>
<td style="text-align:center">270 - clockwise</td>
</tr>
<tr>
<td style="text-align:center">Pair (B, C)</td>
<td style="text-align:center">315 - clockwise</td>
</tr>
<tr>
<td style="text-align:center">Pair (C, A)</td>
<td style="text-align:center">135 - counter clockwise</td>
</tr>
</tbody>
</table>
<p>Let&rsquo;s say there&rsquo;s another point $D=(2, 2)$. If that was the case, neither the clockwise angle nor the counter-clockwise angle for pair (A, B) would be valid since the clockwise angle would not cover point D and the counter-clockwise angle would not cover point C.  Hence we have proved that we need to take the clockwise or counter-clockwise angle between every pair of adjacent points. Adjacent points are the closest 2 or less closest points to a point, one in the clockwise direction, another in the opposite direction. But how do we know which point is adjacent to some other point? We sort the points counter-clockwise. The function <code>counterClockWiseAngle(Point P)</code> returns the counter-clockwise of point P from positive side of x-axis. For example, for points A, B, and C, their counter-clockwise angles are 0, 90, 135 respectively. Now, find the minimum outside angle between every pair of points $a_i$ and $a _{i+1}$ where $1 \leq i \leq n-1$. Outside angle is basically the clockwise-angle from point A to point B. Look at the code to get the formula. <strong>But</strong> there is a catch. Notice that we haven&rsquo;t calculated the outside angle between $a_n$ and $a_0$. This is because their outside angle does not contain any of the other points. You can see this to be true in the above example; for the pair $(a_n, a_0)$, compute their inside angle (counter-clockwise angle from point A to B) which does contain the other points. So we have processed all pairs one by one and should have a minimum by now.</p>
<h2 id="code">Code<a hidden class="anchor" aria-hidden="true" href="#code">#</a></h2>
<p>Note: This gets runtime error with the G++17 compiler, so I used MS C++ 2017 to get AC.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;vector&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;algorithm&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;cmath&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;iomanip&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;

<span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">Point</span> {
    <span style="color:#66d9ef">int</span> x, y;
    Point(<span style="color:#66d9ef">int</span> a, <span style="color:#66d9ef">int</span> b) {
        x <span style="color:#f92672">=</span> a, y <span style="color:#f92672">=</span> b;
    }
};

<span style="color:#66d9ef">int</span> n, xi, yi;
<span style="color:#66d9ef">double</span> PI <span style="color:#f92672">=</span> <span style="color:#ae81ff">3.14159265358</span>, ans <span style="color:#f92672">=</span> <span style="color:#ae81ff">360</span>;
vector<span style="color:#f92672">&lt;</span>Point<span style="color:#f92672">&gt;</span> plane;

<span style="color:#66d9ef">double</span> <span style="color:#a6e22e">deg</span>(<span style="color:#66d9ef">double</span> d) {
    <span style="color:#66d9ef">return</span> d<span style="color:#f92672">*</span>(<span style="color:#ae81ff">180</span><span style="color:#f92672">/</span>PI);
}

<span style="color:#66d9ef">double</span> <span style="color:#a6e22e">counterClockWiseAngle</span>(Point p) {
    <span style="color:#66d9ef">double</span> angle <span style="color:#f92672">=</span> deg(atan2(p.y, p.x));
    <span style="color:#66d9ef">if</span> (angle <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span>) <span style="color:#66d9ef">return</span> angle;
    <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">360</span> <span style="color:#f92672">+</span> angle;
}

<span style="color:#66d9ef">double</span> <span style="color:#a6e22e">insideAngle</span>(Point p1, Point p2) {
    <span style="color:#66d9ef">return</span> fabs(counterClockWiseAngle(p1) <span style="color:#f92672">-</span> counterClockWiseAngle(p2));
}

<span style="color:#66d9ef">double</span> <span style="color:#a6e22e">outsideAngle</span>(Point p1, Point p2) {
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">360</span> <span style="color:#f92672">-</span> insideAngle(p1, p2);
}

<span style="color:#66d9ef">bool</span> <span style="color:#a6e22e">comparePoint</span>(Point p1, Point p2) {
    <span style="color:#66d9ef">return</span> counterClockWiseAngle(p1) <span style="color:#f92672">&lt;</span> counterClockWiseAngle(p2);
}

<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>() {
    cin <span style="color:#f92672">&gt;&gt;</span> n;
    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> n; i<span style="color:#f92672">++</span>) {
        cin <span style="color:#f92672">&gt;&gt;</span> xi <span style="color:#f92672">&gt;&gt;</span> yi;
        plane.push_back({xi, yi});
    }
    sort(plane.begin(), plane.end(), comparePoint);
    <span style="color:#66d9ef">if</span> (plane.size() <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>) ans <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
    <span style="color:#66d9ef">else</span> {
        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> n<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>; i<span style="color:#f92672">++</span>) {
            ans <span style="color:#f92672">=</span> min(ans, outsideAngle(plane[i], plane[i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>]));
        }
        ans <span style="color:#f92672">=</span> min(ans, insideAngle(plane[n<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>], plane[<span style="color:#ae81ff">0</span>]));
    }
    cout <span style="color:#f92672">&lt;&lt;</span> setprecision(<span style="color:#ae81ff">11</span>) <span style="color:#f92672">&lt;&lt;</span> ans <span style="color:#f92672">&lt;&lt;</span> endl;
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}
</code></pre></div>
</div>
  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://colossal-pepe.github.io/false-productivity/tags/math/">math</a></li>
      <li><a href="https://colossal-pepe.github.io/false-productivity/tags/geometry/">geometry</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://colossal-pepe.github.io/false-productivity/posts/2021-5/quadratic-equation-roots/">
    <span class="title">« Prev Page</span>
    <br>
    <span>Sum and Product of Roots in Quadratic Equations</span>
  </a>
  <a class="next" href="https://colossal-pepe.github.io/false-productivity/posts/2021-5/little-dima-and-equation/">
    <span class="title">Next Page »</span>
    <br>
    <span>Little Dima and Equation</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    <footer class="footer">
    <span>&copy; 2021 <a href="https://colossal-pepe.github.io/false-productivity/">False Productivity</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)">
    <button class="top-link" id="top-link" type="button" accesskey="g">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
            <path d="M12 6H0l6-6z" />
        </svg>
    </button>
</a>

<script>
    let menu = document.getElementById('menu')
    menu.scrollLeft = localStorage.getItem("menu-scroll-position");
    menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerText = 'copy';

        function copyingDone() {
            copybutton.innerText = 'copied!';
            setTimeout(() => {
                copybutton.innerText = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
